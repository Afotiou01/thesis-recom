<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin – Add Event</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: system-ui;
  background: #020617;
  color: #e5e7eb;
  padding: 30px;
}
.card {
  max-width: 700px;
  margin: auto;
  background: #0f172a;
  padding: 24px;
  border-radius: 16px;
}
label {
  margin-top: 12px;
  display: block;
  font-weight: 600;
}
input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 8px;
  border: none;
}
button {
  margin-top: 18px;
  background: linear-gradient(to right,#4f46e5,#6366f1);
  color: white;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="card">
<h2>Admin – Add Event</h2>

<label>Title</label>
<input id="title">

<label>City</label>
<select id="city">
  <option>Nicosia</option>
  <option>Limassol</option>
  <option>Larnaca</option>
  <option>Paphos</option>
</select>

<label>Date</label>
<input type="date" id="date">

<label>Language</label>
<select id="language">
  <option value="greek">Greek</option>
  <option value="english">English</option>
  <option value="both">Both</option>
</select>

<label>Tags</label>
<select id="tags" multiple size="6">
  <option>concert</option>
  <option>rock</option>
  <option>pop</option>
  <option>jazz</option>
  <option>electronic</option>
  <option>techno</option>
  <option>laiko</option>
  <option>entehno</option>
</select>

<label>Artists (comma separated)</label>
<input id="artists" placeholder="Artist A, Artist B">

<button onclick="addEvent()">Add Event</button>
</div>

<script>
const API = "http://127.0.0.1:8000";

async function addEvent() {
  const tags = Array.from(document.getElementById("tags").selectedOptions).map(o => o.value);
  if (language.value === "greek") tags.push("lang_greek");
  if (language.value === "english") tags.push("lang_english");
  if (language.value === "both") tags.push("lang_greek","lang_english");

  await fetch(API + "/admin/add-event", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      title: title.value,
      city: city.value,
      date: date.value,
      language: language.value,
      tags: tags,
      artists: artists.value.split(",").map(a => a.trim())
    })
  });

  alert("Event added");
}
</script>
</body>
</html>
